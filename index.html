<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="StyleSheet.css">
  
  <title>Frontend Mentor | Interactive card details form</title>

  <style>
    .attribution { font-size: 11px; 
      text-align: center; 
      margin-top: 25%;
    }
    .attribution a { color: hsl(228, 45%, 44%); }
  </style>
</head>
<body>
 <div class="container"> 
  <div class="content">
    <div class="cards">
  <img src="images/bg-main-desktop.png" alt="none" id="side">
<div class="cardfront">
  <img src="images/card-logo.svg" alt="none" class="logo">
  <p id="cardnum" >0000 0000 0000 0000<p>
  <div>
  <span>Jane Appleseed</span> 
  <span>00/00</span> 
  </div>  
</div>
<div class="cardback">
 <p id="cvcnum">000</p>
</div>
</div>
<div class="form" onsubmit="return false">
  <form name="Info">
  <p>Cardholder Name</p>
  <input type="text" name="fName" id="Name" oninput = "uncheck()" placeholder="e.g. Jane Appleseed">

  <p>Card Number</p>
  <input name="Number" id="cardNumber" placeholder="e.g. 1234 5678 9123 0000"  maxlength="25">
<div id="row">   
  <div> 
  <p>Exp. Date (MM/YY)</p>  
  <input  name="month" id="month" min="1" max="12" placeholder="MM"> 
  <input  id="year" name="year" placeholder="YY" > 
</div>
<div>
  <p>CVC</p>
  <input  placeholder="e.g. 123" id="cvc" >
</div>  
</div>

 <button type="submit" id="btn" onclick="validateDetails()">Confirm</button>  
</form>
</div>
</div>

</div> 
<div class="popup">
  <img src="images/icon-complete.svg" alt="none" id="img">
<p class="thnks">THANK YOU!</p>
<p class="msg2">We've added your card details</p>
<button id="btn2" onclick="closePopup()">Continue</button>
</div> 

  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="#">Rohaib</a>.
  </div>
  <script>
    let name = document.getElementById('Name');
      let cardNum = document.getElementById('cardNumber');
      let cvc = document.getElementById('cvc');
      let year = document.getElementById('year');
      let month = document.getElementById('month');


    function validateDetails(){
      let popup = true;
      if(name.value.length == 0){
        name.style.borderColor = "red";
        popup=false;
      }else{
        name.style.borderColor = "none";
        popup = true;
      }
       if(isNaN(cardNum.value) || cardNum.value.length == 0 || cardNum.value.length < 13){
        cardNum.style.borderColor = "red";
        popup=false;
      }else{
        cardNum.style.borderColor = "none";
        popup = true;
      } 
      if(isNaN(cvc.value) ||  cvc.value.length != 3){
        cvc.style.borderColor = "red";
        popup=false;
      }else{
        cvc.style.borderColor = "none";
        popup = true;
      } 
      if(isNaN(year.value) || year.value.length != 2){
        year.style.borderColor = "red";
        popup=false;
      }else{
        year.style.borderColor = "none";
        popup = true;
      }
       if(isNaN(month.value) || month.value.length != 2){
        month.style.borderColor = "red";
        popup=false;
        
      }else{
        month.style.borderColor = "none";
        popup = true;
      }

      if(popup == true){
        openPopup();
      }
    }

 

    function openPopup() {
      document.getElementsByClassName('container')[0].classList.add("blur");
      document.getElementsByClassName('popup')[0].style.visibility = "visible";
      document.getElementsByClassName('form')[0].style.visibility = "hidden";
    }

    function closePopup() {
        document.getElementsByClassName('popup')[0].style.visibility = "hidden";
        document.getElementsByClassName('form')[0].style.visibility = "visible";
        document.getElementsByClassName('container')[0].classList.remove("blur");
    }


      var input = document. getElementById("cardNumber");
      let x = 0;
            input.onkeydown = function () {
              if (input.value.length > 0) {
                  x+=1;
                if (x % 4 == 0) {
                  input.value += " ";
                  x=0;
                }
              }
          }

   

</script>

</body>
</html>